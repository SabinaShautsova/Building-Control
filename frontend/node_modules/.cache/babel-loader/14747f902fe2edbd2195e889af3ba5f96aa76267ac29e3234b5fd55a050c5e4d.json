{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sabina\\\\BuildingControl\\\\frontend\\\\src\\\\components\\\\BuildingForm.js\",\n  _s = $RefreshSig$();\n// src/components/BuildingForm.js\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { createBuilding, updateBuilding, fetchBuildingById } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BuildingForm() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [name, setName] = useState('');\n  const [location, setLocation] = useState('');\n  const [error, setError] = useState(null);\n  const isEditing = Boolean(id);\n  useEffect(() => {\n    if (isEditing) {\n      const getBuilding = async () => {\n        try {\n          const data = await fetchBuildingById(id);\n          setName(data.name);\n          setLocation(data.location);\n        } catch (err) {\n          setError('Failed to load building details');\n        }\n      };\n      getBuilding();\n    }\n  }, [id, isEditing]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const buildingData = {\n      name,\n      location\n    };\n    try {\n      if (isEditing) {\n        await updateBuilding(id, buildingData);\n      } else {\n        await createBuilding(buildingData);\n      }\n      navigate('/');\n    } catch (err) {\n      setError('Failed to save building');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: isEditing ? 'Edit Building' : 'Add Building'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: name,\n        onChange: e => setName(e.target.value),\n        placeholder: \"Building Name\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: location,\n        onChange: e => setLocation(e.target.value),\n        placeholder: \"Location\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: [isEditing ? 'Update' : 'Add', \" Building\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(BuildingForm, \"U2BnATmIT4DuB/GSzisVTgWuow4=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = BuildingForm;\nexport default BuildingForm;\nvar _c;\n$RefreshReg$(_c, \"BuildingForm\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","createBuilding","updateBuilding","fetchBuildingById","jsxDEV","_jsxDEV","BuildingForm","_s","id","navigate","name","setName","location","setLocation","error","setError","isEditing","Boolean","getBuilding","data","err","handleSubmit","e","preventDefault","buildingData","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","placeholder","required","_c","$RefreshReg$"],"sources":["C:/Users/Sabina/BuildingControl/frontend/src/components/BuildingForm.js"],"sourcesContent":["// src/components/BuildingForm.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { createBuilding, updateBuilding, fetchBuildingById } from '../api';\r\n\r\nfunction BuildingForm() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [name, setName] = useState('');\r\n  const [location, setLocation] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const isEditing = Boolean(id);\r\n\r\n  useEffect(() => {\r\n    if (isEditing) {\r\n      const getBuilding = async () => {\r\n        try {\r\n          const data = await fetchBuildingById(id);\r\n          setName(data.name);\r\n          setLocation(data.location);\r\n        } catch (err) {\r\n          setError('Failed to load building details');\r\n        }\r\n      };\r\n\r\n      getBuilding();\r\n    }\r\n  }, [id, isEditing]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const buildingData = { name, location };\r\n\r\n    try {\r\n      if (isEditing) {\r\n        await updateBuilding(id, buildingData);\r\n      } else {\r\n        await createBuilding(buildingData);\r\n      }\r\n      navigate('/');\r\n    } catch (err) {\r\n      setError('Failed to save building');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>{isEditing ? 'Edit Building' : 'Add Building'}</h1>\r\n      {error && <p>{error}</p>}\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          value={name}\r\n          onChange={(e) => setName(e.target.value)}\r\n          placeholder=\"Building Name\"\r\n          required\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          value={location}\r\n          onChange={(e) => setLocation(e.target.value)}\r\n          placeholder=\"Location\"\r\n          required\r\n        />\r\n        <button type=\"submit\">{isEditing ? 'Update' : 'Add'} Building</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BuildingForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}